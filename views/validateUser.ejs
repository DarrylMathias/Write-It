<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class='min-vh-100 d-flex align-items-center'>
    <main>
        <div class="container col-xl-10 col-xxl-8 px-4 py-5">
            <div class="row align-items-center g-lg-3 py-5">
                <% if(error){ %>
                            <div class="alert alert-danger" role="alert">
                                <%= error %>
                            </div>
                            <%} if(success) { %>
                                <div class="alert alert-success" role="alert">
                                    <%= success %> If not redirected automatically in 3 seconds, <a
                                            href="/posts/viewAll" class="alert-link">click this link</a>
                                </div>
                                <% } %>
                <div class="prompt">
                    Enter the code sent on your email-id below to log in! (As per new policy, to access your account first verify it.)
                </div>

                <form method="post" class="digit-group" data-group-name="digits" data-autosubmit="false" action = '/users/postValidateUser'
                    autocomplete="off">
                    <input type="text" id="digit-1" name="digit1" data-next="digit-2" />
                    <input type="text" id="digit-2" name="digit2" data-next="digit-3" data-previous="digit-1" />
                    <input type="text" id="digit-3" name="digit3" data-next="digit-4" data-previous="digit-2" />
                    <span class="splitter">&ndash;</span>
                    <input type="text" id="digit-4" name="digit4" data-next="digit-5" data-previous="digit-3" />
                    <input type="text" id="digit-5" name="digit5" data-next="digit-6" data-previous="digit-4" />
                    <input type="text" id="digit-6" name="digit6" data-previous="digit-5" />
                    <button class="btn btn-primary w-10 my-4 d-block" type="submit" fdprocessedid="fl2fhd">Verify</button>
                </form>
            </div>
        </div>
    </main>
    
    <script src="/javascripts/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <script>
        //Writing ejs tags inside quotes (like html)
        const success = "<%= success %>"
        const error = "<%= error %>"
        success && setTimeout(() => {
            window.location.href = `/posts/viewAll`
            console.log('Sending to viewAll');
        }, 2000);
        error && setTimeout(() => {
            window.location.href = `/`
        }, 2000);
    </script>
</body>

</html>